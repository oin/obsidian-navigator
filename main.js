/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
var __publicField = (obj, key, value) => {
  __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => NavigatorPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian2 = require("obsidian");

// src/settings.ts
var DEFAULT_SETTINGS = {
  commonPrefixSeparators: "-:_+ /,;?!",
  commonPrefixExtendSearch: true,
  todayDateFormat: "YYYY-MM-DD",
  useSameExtension: true,
  commandPatterns: []
};

// src/util.ts
function multisplit(str, separators) {
  if (!separators.length)
    return str.split("");
  let sep = separators[0];
  for (let i = 1; i < separators.length; ++i) {
    str = str.split(separators[i]).join(sep);
  }
  return str.split(sep);
}
function longestCommonPrefixWithSeparators(reference, others, separators) {
  if (!others.length)
    return "";
  let pieces = multisplit(reference, separators.split(""));
  let lastPrefix = "";
  for (let i = 0; i < pieces.length; ++i) {
    let prefix = lastPrefix + (i == 0 ? "" : reference[lastPrefix.length]) + pieces[i];
    if (others.filter((str) => str !== prefix && str.startsWith(prefix)).length == 0) {
      return lastPrefix;
    }
    lastPrefix = prefix;
  }
  return reference;
}
function indexOfPrevNextWithCommonPrefix(files, current, length, settings, isNext) {
  let strFiles = files.map((f) => f.basename);
  let reference = files[current].basename;
  let prefix = longestCommonPrefixWithSeparators(reference, strFiles, settings.commonPrefixSeparators);
  if (!prefix.length) {
    if (settings.commonPrefixExtendSearch && (!isNext && current > 0 || isNext && current + 1 < length)) {
      return isNext ? current + 1 : current - 1;
    } else {
      return length;
    }
  }
  let filterFn = (file) => file.basename.startsWith(prefix);
  let idx = isNext ? files.map(filterFn).lastIndexOf(true) : files.findIndex(filterFn);
  if (idx === current && settings.commonPrefixExtendSearch && (!isNext && current > 0 || isNext && current + 1 < length)) {
    return isNext ? current + 1 : current - 1;
  }
  return idx;
}
function todayStr(format) {
  if (!format) {
    format = "YYYY-MM-DD";
  }
  return window.moment(/* @__PURE__ */ new Date()).format(format);
}
function filesWithCommandPattern(files, pattern, dateFormat) {
  const decomposedPattern = pattern.split("#");
  if (decomposedPattern.length < 2)
    return [];
  const patternPrefix = decomposedPattern[0];
  const patternSuffix = decomposedPattern[1];
  return files.filter((file) => {
    const m = window.moment(file.path, dateFormat);
    if (!m.isValid())
      return false;
    const unused = m.parsingFlags().unusedInput;
    if (unused.length != 2)
      return false;
    const [prefix, suffix] = unused;
    return prefix.endsWith(patternPrefix) && suffix == patternSuffix;
  });
}
function commandPatternExpand(pattern, settings) {
  const decomposedPattern = pattern.split("#");
  if (decomposedPattern.length < 2)
    return pattern;
  const patternPrefix = decomposedPattern[0];
  const patternSuffix = decomposedPattern[1];
  return patternPrefix + todayStr(settings.todayDateFormat) + patternSuffix;
}

// src/movement_methods.ts
var MOVEMENT_METHODS = [
  {
    id: "next",
    whichString: "next",
    fn: (files, current, length, settings) => current + 1
  },
  {
    id: "previous",
    whichString: "previous",
    fn: (files, current, length, settings) => current - 1
  },
  {
    id: "first",
    whichString: "first",
    fn: (files, current, length, settings) => 0
  },
  {
    id: "last",
    whichString: "last",
    fn: (files, current, length, settings) => length - 1
  },
  {
    id: "today-first",
    whichString: "first with today in name",
    fn: (files, current, length, settings) => {
      let todaystr = window.moment(/* @__PURE__ */ new Date()).format(settings.todayDateFormat);
      return files.findIndex((file) => file.basename.includes(todaystr));
    }
  },
  {
    id: "today-last",
    whichString: "last with today in name",
    fn: (files, current, length, settings) => {
      let todaystr = window.moment(/* @__PURE__ */ new Date()).format(settings.todayDateFormat);
      return files.map((file) => file.basename.includes(todaystr)).lastIndexOf(true);
    }
  },
  {
    id: "commonprefix-first",
    whichString: "first with same prefix",
    fn: (files, current, length, settings) => indexOfPrevNextWithCommonPrefix(files, current, length, settings, false)
  },
  {
    id: "commonprefix-last",
    whichString: "last with same prefix",
    fn: (files, current, length, settings) => indexOfPrevNextWithCommonPrefix(files, current, length, settings, true)
  }
];

// src/sorting_methods.ts
var SORTING_METHODS = [
  {
    id: "alpha",
    byString: "name",
    fn: (a, b) => a.basename.localeCompare(b.basename)
  },
  {
    id: "ctime",
    byString: "creation date",
    fn: (a, b) => a.stat.ctime - b.stat.ctime
  },
  {
    id: "mtime",
    byString: "modification date",
    fn: (a, b) => a.stat.mtime - b.stat.mtime
  }
];

// src/settings_tab.ts
var import_obsidian = require("obsidian");
var NavigatorSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    __publicField(this, "plugin");
    this.plugin = plugin;
  }
  display() {
    let { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Today date format").setDesc("Will look for this date format in the title when navigating Today notes").addMomentFormat((mfmt) => mfmt.setDefaultFormat(DEFAULT_SETTINGS.todayDateFormat).setValue(this.plugin.settings.todayDateFormat).onChange(async (value) => {
      this.plugin.settings.todayDateFormat = value;
      await this.plugin.saveSettings();
    }));
    containerEl.createEl("h3", { text: "Notes with same prefix" });
    new import_obsidian.Setting(containerEl).setName("Separators").setDesc("Characters used to tokenize the common prefix (if empty, looks for all characters)").addText((text) => text.setPlaceholder(DEFAULT_SETTINGS.commonPrefixSeparators).setValue(this.plugin.settings.commonPrefixSeparators).onChange(async (value) => {
      this.plugin.settings.commonPrefixSeparators = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Extend search").setDesc("Whether to look for the previous/next note if at the first/last note already").addToggle((toggle) => toggle.setValue(this.plugin.settings.commonPrefixExtendSearch).onChange(async (value) => {
      this.plugin.settings.commonPrefixExtendSearch = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Use the same extension").setDesc("Whether to ignore files with different extensions").addToggle((toggle) => toggle.setValue(this.plugin.settings.useSameExtension).onChange(async (value) => {
      this.plugin.settings.useSameExtension = value;
      await this.plugin.saveSettings();
    }));
    containerEl.createEl("h3", { text: "Last/New commands" });
    containerEl.createEl("p", { text: "You can define commands that will open the last or a new note following a particular pattern." });
    containerEl.createEl("p", { text: "The character '#' will be replaced by today's date" });
    containerEl.createEl("p", { text: "You will need to restart Obsidian before you can use the commands defined here." });
    let patternDiv = containerEl.createDiv();
    for (let pattern of this.plugin.settings.commandPatterns) {
      this.createCommandPatternSetting(patternDiv, pattern);
    }
    new import_obsidian.Setting(containerEl).addButton(
      (button) => button.setButtonText("Add pattern").onClick(async () => {
        const pattern = {
          id: crypto.randomUUID(),
          name: "New pattern",
          pattern: "Untitled #"
        };
        this.plugin.settings.commandPatterns.push(pattern);
        await this.plugin.saveSettings();
        this.display();
      })
    );
  }
  createCommandPatternSetting(containerEl, pattern) {
    let s = new import_obsidian.Setting(containerEl);
    s.setName("Pattern");
    s.setDesc("Example: " + commandPatternExpand(pattern.pattern, this.plugin.settings));
    s.addText(
      (text) => text.setPlaceholder("Name").setValue(pattern.name).onChange(async (value) => {
        pattern.name = value;
        await this.plugin.saveSettings();
      })
    );
    s.addText(
      (text) => text.setPlaceholder("Pattern").setValue(pattern.pattern).onChange(async (value) => {
        pattern.pattern = value;
        await this.plugin.saveSettings();
        s.setDesc("Example: " + commandPatternExpand(pattern.pattern, this.plugin.settings));
      })
    );
    s.addExtraButton(
      (button) => button.setIcon("trash").onClick(async () => {
        this.plugin.settings.commandPatterns.remove(pattern);
        await this.plugin.saveSettings();
        this.display();
      })
    );
  }
};

// src/main.ts
var NavigatorPlugin = class extends import_obsidian2.Plugin {
  constructor() {
    super(...arguments);
    __publicField(this, "settings");
  }
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new NavigatorSettingTab(this.app, this));
    SORTING_METHODS.forEach((sortingMethod) => {
      MOVEMENT_METHODS.forEach((movementMethod) => {
        this.addCommand({
          id: "navigator-folder-" + movementMethod.id + "-" + sortingMethod.id,
          name: "By " + sortingMethod.byString + ": Open " + movementMethod.whichString + " in folder",
          checkCallback: (checking) => this.cmdOpenNoteInFolder(checking, sortingMethod.fn, movementMethod.fn)
        });
      });
    });
    for (let pattern of this.settings.commandPatterns) {
      this.addCommand({
        id: "navigator-" + pattern.id,
        name: "Last/New " + pattern.name,
        callback: () => {
          let p = commandPatternExpand(pattern.pattern, this.settings);
          this.openOrCreateFile(p);
        }
      });
      this.addCommand({
        id: "navigator-" + pattern.id,
        name: "Last " + pattern.name,
        callback: () => {
          this.cmdOpenLastFileWithPattern(pattern);
        }
      });
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  cmdOpenNoteInFolder(checking, sortingFn, movementFn) {
    let thisFile = this.app.workspace.getActiveFile();
    if (!thisFile)
      return false;
    let folder = thisFile.parent;
    if (!folder)
      return false;
    if (!checking) {
      let files = folder.children.filter((file) => {
        if (!(file instanceof import_obsidian2.TFile))
          return false;
        let f = file;
        if (this.settings.useSameExtension && f.extension !== (thisFile == null ? void 0 : thisFile.extension))
          return false;
        return true;
      });
      files = files.sort(sortingFn);
      let idx = files.indexOf(thisFile);
      idx = movementFn(files, idx, files.length, this.settings);
      if (idx < 0 || idx >= files.length)
        return true;
      this.app.workspace.openLinkText(files[idx].path, "", false);
    }
    return true;
  }
  cmdOpenLastFileWithPattern(pattern) {
    let files = this.app.vault.getFiles();
    let filesWithPattern = filesWithCommandPattern(files, pattern.pattern, this.settings.todayDateFormat);
    if (!filesWithPattern.length)
      return;
    filesWithPattern = filesWithPattern.sort((a, b) => b.stat.mtime - a.stat.mtime);
    this.app.workspace.openLinkText(filesWithPattern[0].path, "", false);
  }
  async openOrCreateFile(path) {
    this.app.workspace.openLinkText(path, "", false);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3NldHRpbmdzLnRzIiwgInNyYy91dGlsLnRzIiwgInNyYy9tb3ZlbWVudF9tZXRob2RzLnRzIiwgInNyYy9zb3J0aW5nX21ldGhvZHMudHMiLCAic3JjL3NldHRpbmdzX3RhYi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgUGx1Z2luLCBURmlsZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgTmF2aWdhdG9yU2V0dGluZ3MsIERFRkFVTFRfU0VUVElOR1MsIE5hdmlnYXRvckNvbW1hbmRQYXR0ZXJuIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IE1PVkVNRU5UX01FVEhPRFMgfSBmcm9tIFwiLi9tb3ZlbWVudF9tZXRob2RzXCI7XG5pbXBvcnQgeyBTT1JUSU5HX01FVEhPRFMgfSBmcm9tIFwiLi9zb3J0aW5nX21ldGhvZHNcIjtcbmltcG9ydCB7IE5hdmlnYXRvck1vdmVtZW50TWV0aG9kRm4sIE5hdmlnYXRvclNvcnRpbmdNZXRob2RGbiwgY29tbWFuZFBhdHRlcm5FeHBhbmQsIGZpbGVzV2l0aENvbW1hbmRQYXR0ZXJuIH0gZnJvbSBcIi4vdXRpbFwiO1xuaW1wb3J0IHsgTmF2aWdhdG9yU2V0dGluZ1RhYiB9IGZyb20gXCIuL3NldHRpbmdzX3RhYlwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOYXZpZ2F0b3JQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogTmF2aWdhdG9yU2V0dGluZ3M7XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBOYXZpZ2F0b3JTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cblx0XHQvLyBDcmVhdGUgYWxsIHBvc3NpYmxlIG5hdmlnYXRpb24gY29tbWFuZHNcblx0XHRTT1JUSU5HX01FVEhPRFMuZm9yRWFjaChzb3J0aW5nTWV0aG9kID0+IHtcblx0XHRcdE1PVkVNRU5UX01FVEhPRFMuZm9yRWFjaChtb3ZlbWVudE1ldGhvZCA9PiB7XG5cdFx0XHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRcdFx0aWQ6ICduYXZpZ2F0b3ItZm9sZGVyLScgKyBtb3ZlbWVudE1ldGhvZC5pZCArICctJyArIHNvcnRpbmdNZXRob2QuaWQsXG5cdFx0XHRcdFx0bmFtZTogJ0J5ICcgKyBzb3J0aW5nTWV0aG9kLmJ5U3RyaW5nICsgJzogT3BlbiAnICsgbW92ZW1lbnRNZXRob2Qud2hpY2hTdHJpbmcgKyAnIGluIGZvbGRlcicsXG5cdFx0XHRcdFx0Y2hlY2tDYWxsYmFjazogKGNoZWNraW5nOiBib29sZWFuKSA9PiB0aGlzLmNtZE9wZW5Ob3RlSW5Gb2xkZXIoY2hlY2tpbmcsIHNvcnRpbmdNZXRob2QuZm4sIG1vdmVtZW50TWV0aG9kLmZuKVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gQ3JlYXRlIExhc3QvTmV3IGNvbW1hbmRzXG5cdFx0Zm9yKGxldCBwYXR0ZXJuIG9mIHRoaXMuc2V0dGluZ3MuY29tbWFuZFBhdHRlcm5zKSB7XG5cdFx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0XHRpZDogJ25hdmlnYXRvci0nICsgcGF0dGVybi5pZCxcblx0XHRcdFx0bmFtZTogJ0xhc3QvTmV3ICcgKyBwYXR0ZXJuLm5hbWUsXG5cdFx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdFx0bGV0IHAgPSBjb21tYW5kUGF0dGVybkV4cGFuZChwYXR0ZXJuLnBhdHRlcm4sIHRoaXMuc2V0dGluZ3MpO1xuXHRcdFx0XHRcdHRoaXMub3Blbk9yQ3JlYXRlRmlsZShwKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0XHRpZDogJ25hdmlnYXRvci0nICsgcGF0dGVybi5pZCxcblx0XHRcdFx0bmFtZTogJ0xhc3QgJyArIHBhdHRlcm4ubmFtZSxcblx0XHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0XHR0aGlzLmNtZE9wZW5MYXN0RmlsZVdpdGhQYXR0ZXJuKHBhdHRlcm4pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxuXG5cdHByb3RlY3RlZCBjbWRPcGVuTm90ZUluRm9sZGVyKGNoZWNraW5nOiBib29sZWFuLCBzb3J0aW5nRm46IE5hdmlnYXRvclNvcnRpbmdNZXRob2RGbiwgbW92ZW1lbnRGbjogTmF2aWdhdG9yTW92ZW1lbnRNZXRob2RGbikge1xuXHRcdGxldCB0aGlzRmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG5cdFx0aWYoIXRoaXNGaWxlKSByZXR1cm4gZmFsc2U7XG5cdFx0bGV0IGZvbGRlciA9IHRoaXNGaWxlLnBhcmVudDtcblx0XHRpZighZm9sZGVyKSByZXR1cm4gZmFsc2U7XG5cblx0XHRpZighY2hlY2tpbmcpIHtcblx0XHRcdGxldCBmaWxlcyA9IGZvbGRlci5jaGlsZHJlbi5maWx0ZXIoZmlsZSA9PiB7XG5cdFx0XHRcdGlmKCEoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRsZXQgZiA9IGZpbGUgYXMgVEZpbGU7XG5cdFx0XHRcdGlmKHRoaXMuc2V0dGluZ3MudXNlU2FtZUV4dGVuc2lvbiAmJiBmLmV4dGVuc2lvbiAhPT0gdGhpc0ZpbGU/LmV4dGVuc2lvbikgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0pIGFzIFRGaWxlW107XG5cdFx0XHRmaWxlcyA9IGZpbGVzLnNvcnQoc29ydGluZ0ZuKTtcblx0XHRcdFxuXHRcdFx0bGV0IGlkeCA9IGZpbGVzLmluZGV4T2YodGhpc0ZpbGUpO1xuXHRcdFx0aWR4ID0gbW92ZW1lbnRGbihmaWxlcywgaWR4LCBmaWxlcy5sZW5ndGgsIHRoaXMuc2V0dGluZ3MpO1xuXHRcdFx0aWYoaWR4IDwgMCB8fCBpZHggPj0gZmlsZXMubGVuZ3RoKSByZXR1cm4gdHJ1ZTtcblx0XHRcdFxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9wZW5MaW5rVGV4dChmaWxlc1tpZHhdLnBhdGgsICcnLCBmYWxzZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRwcm90ZWN0ZWQgY21kT3Blbkxhc3RGaWxlV2l0aFBhdHRlcm4ocGF0dGVybjogTmF2aWdhdG9yQ29tbWFuZFBhdHRlcm4pIHtcblx0XHRsZXQgZmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRGaWxlcygpO1xuXHRcdGxldCBmaWxlc1dpdGhQYXR0ZXJuID0gZmlsZXNXaXRoQ29tbWFuZFBhdHRlcm4oZmlsZXMsIHBhdHRlcm4ucGF0dGVybiwgdGhpcy5zZXR0aW5ncy50b2RheURhdGVGb3JtYXQpO1xuXHRcdGlmKCFmaWxlc1dpdGhQYXR0ZXJuLmxlbmd0aCkgcmV0dXJuO1xuXG5cdFx0ZmlsZXNXaXRoUGF0dGVybiA9IGZpbGVzV2l0aFBhdHRlcm4uc29ydCgoYSwgYikgPT4gYi5zdGF0Lm10aW1lIC0gYS5zdGF0Lm10aW1lKTtcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub3BlbkxpbmtUZXh0KGZpbGVzV2l0aFBhdHRlcm5bMF0ucGF0aCwgJycsIGZhbHNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBhc3luYyBvcGVuT3JDcmVhdGVGaWxlKHBhdGg6IHN0cmluZykge1xuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vcGVuTGlua1RleHQocGF0aCwgJycsIGZhbHNlKTtcblx0fVxufSIsICJleHBvcnQgaW50ZXJmYWNlIE5hdmlnYXRvckNvbW1hbmRQYXR0ZXJuIHtcblx0aWQ6IHN0cmluZztcblx0bmFtZTogc3RyaW5nO1xuXHRwYXR0ZXJuOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIE5hdmlnYXRvclNldHRpbmdzIHtcblx0Y29tbW9uUHJlZml4U2VwYXJhdG9yczogc3RyaW5nO1xuXHRjb21tb25QcmVmaXhFeHRlbmRTZWFyY2g6IGJvb2xlYW47XG5cdHRvZGF5RGF0ZUZvcm1hdDogc3RyaW5nO1xuXHR1c2VTYW1lRXh0ZW5zaW9uOiBib29sZWFuXG5cdGNvbW1hbmRQYXR0ZXJuczogTmF2aWdhdG9yQ29tbWFuZFBhdHRlcm5bXTtcbn07XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBOYXZpZ2F0b3JTZXR0aW5ncyA9IHtcblx0Y29tbW9uUHJlZml4U2VwYXJhdG9yczogJy06XysgLyw7PyEnLFxuXHRjb21tb25QcmVmaXhFeHRlbmRTZWFyY2g6IHRydWUsXG5cdHRvZGF5RGF0ZUZvcm1hdDogJ1lZWVktTU0tREQnLFxuXHR1c2VTYW1lRXh0ZW5zaW9uOiB0cnVlLFxuXHRjb21tYW5kUGF0dGVybnM6IFtdXG59OyIsICJpbXBvcnQgeyBURmlsZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgTmF2aWdhdG9yU2V0dGluZ3MgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuaW1wb3J0ICogYXMgbW9tZW50IGZyb20gXCJtb21lbnRcIjtcblxuLyoqXG4gKiBTcGxpdCBhIHN0cmluZyB1c2luZyBhIGxpc3Qgb2YgcG9zc2libGUgc2VwYXJhdG9ycy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpc3BsaXQoc3RyOiBzdHJpbmcsIHNlcGFyYXRvcnM6IHN0cmluZ1tdKSB7XG5cdGlmKCFzZXBhcmF0b3JzLmxlbmd0aCkgcmV0dXJuIHN0ci5zcGxpdCgnJyk7XG5cblx0bGV0IHNlcCA9IHNlcGFyYXRvcnNbMF07XG5cdGZvcihsZXQgaT0xOyBpPHNlcGFyYXRvcnMubGVuZ3RoOyArK2kpIHtcblx0XHRzdHIgPSBzdHIuc3BsaXQoc2VwYXJhdG9yc1tpXSkuam9pbihzZXApO1xuXHR9XG5cdHJldHVybiBzdHIuc3BsaXQoc2VwKTtcbn1cblxuLyoqXG4gKiBGaW5kIHRoZSBsb25nZXN0IGNvbW1vbiBwcmVmaXggYmV0d2VlbiBhIHJlZmVyZW5jZSBzdHJpbmcgYW5kIGEgbGlzdCBvZiBvdGhlciBzdHJpbmdzLCBnaXZlbiBhIHN0cmluZyBvZiBzZXBhcmF0b3IgY2hhcmFjdGVycy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvbmdlc3RDb21tb25QcmVmaXhXaXRoU2VwYXJhdG9ycyhyZWZlcmVuY2U6IHN0cmluZywgb3RoZXJzOiBzdHJpbmdbXSwgc2VwYXJhdG9yczogc3RyaW5nKSB7XG5cdGlmKCFvdGhlcnMubGVuZ3RoKSByZXR1cm4gJyc7XG5cblx0bGV0IHBpZWNlcyA9IG11bHRpc3BsaXQocmVmZXJlbmNlLCBzZXBhcmF0b3JzLnNwbGl0KCcnKSk7XG5cdGxldCBsYXN0UHJlZml4ID0gJyc7XG5cdGZvcihsZXQgaT0wOyBpPHBpZWNlcy5sZW5ndGg7ICsraSkge1xuXHRcdGxldCBwcmVmaXggPSBsYXN0UHJlZml4ICsgKGkgPT0gMD8gJycgOiByZWZlcmVuY2VbbGFzdFByZWZpeC5sZW5ndGhdKSArIHBpZWNlc1tpXTtcblx0XHRpZihvdGhlcnMuZmlsdGVyKHN0ciA9PiBzdHIgIT09IHByZWZpeCAmJiBzdHIuc3RhcnRzV2l0aChwcmVmaXgpKS5sZW5ndGggPT0gMCkge1xuXHRcdFx0cmV0dXJuIGxhc3RQcmVmaXg7XG5cdFx0fVxuXHRcdGxhc3RQcmVmaXggPSBwcmVmaXg7XG5cdH1cblxuXHRyZXR1cm4gcmVmZXJlbmNlO1xufVxuXG4vKipcbiAqIEByZXR1cm4gVGhlIGluZGV4IG9mIHRoZSBuZXh0IG9yIHByZXZpb3VzIGZpbGUgaW4gYSBmaWxlIGxpc3QgdGhhdCBzaGFyZXMgYSBjb21tb24gcHJlZml4IHdpdGggdGhlIGN1cnJlbnQgZmlsZSwgb3IgdGhlIGN1cnJlbnQgZmlsZSBpZiBubyBzdWNoIGZpbGUgZXhpc3RzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhPZlByZXZOZXh0V2l0aENvbW1vblByZWZpeChmaWxlczogVEZpbGVbXSwgY3VycmVudDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgc2V0dGluZ3M6IE5hdmlnYXRvclNldHRpbmdzLCBpc05leHQ6IGJvb2xlYW4pOiBudW1iZXIge1xuXHRsZXQgc3RyRmlsZXMgPSBmaWxlcy5tYXAoZiA9PiBmLmJhc2VuYW1lKTtcblx0bGV0IHJlZmVyZW5jZSA9IGZpbGVzW2N1cnJlbnRdLmJhc2VuYW1lO1xuXHRsZXQgcHJlZml4ID0gbG9uZ2VzdENvbW1vblByZWZpeFdpdGhTZXBhcmF0b3JzKHJlZmVyZW5jZSwgc3RyRmlsZXMsIHNldHRpbmdzLmNvbW1vblByZWZpeFNlcGFyYXRvcnMpO1xuXHRpZighcHJlZml4Lmxlbmd0aCkge1xuXHRcdGlmKHNldHRpbmdzLmNvbW1vblByZWZpeEV4dGVuZFNlYXJjaCAmJiAoXG5cdFx0XHQoIWlzTmV4dCAmJiBjdXJyZW50ID4gMClcblx0XHRcdHx8IChpc05leHQgJiYgY3VycmVudCArIDEgPCBsZW5ndGgpXG5cdFx0XHQpKSB7XG5cdFx0XHRyZXR1cm4gaXNOZXh0PyAoY3VycmVudCArIDEpIDogKGN1cnJlbnQgLSAxKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIGxlbmd0aDtcblx0XHR9XG5cdH1cblxuXHRsZXQgZmlsdGVyRm4gPSAoZmlsZTogVEZpbGUpID0+IGZpbGUuYmFzZW5hbWUuc3RhcnRzV2l0aChwcmVmaXgpO1xuXHRsZXQgaWR4ID0gaXNOZXh0PyBmaWxlcy5tYXAoZmlsdGVyRm4pLmxhc3RJbmRleE9mKHRydWUpIDogZmlsZXMuZmluZEluZGV4KGZpbHRlckZuKTtcblx0XG5cdGlmKGlkeCA9PT0gY3VycmVudCAmJiBzZXR0aW5ncy5jb21tb25QcmVmaXhFeHRlbmRTZWFyY2ggJiYgKFxuXHRcdCghaXNOZXh0ICYmIGN1cnJlbnQgPiAwKVxuXHRcdHx8IChpc05leHQgJiYgY3VycmVudCArIDEgPCBsZW5ndGgpXG5cdFx0KSkge1xuXHRcdHJldHVybiBpc05leHQ/IChjdXJyZW50ICsgMSkgOiAoY3VycmVudCAtIDEpO1xuXHR9XG5cblx0cmV0dXJuIGlkeDtcbn1cblxuZXhwb3J0IHR5cGUgTmF2aWdhdG9yU29ydGluZ01ldGhvZEZuID0gKGE6IFRGaWxlLCBiOiBURmlsZSkgPT4gbnVtYmVyO1xuZXhwb3J0IHR5cGUgTmF2aWdhdG9yTW92ZW1lbnRNZXRob2RGbiA9IChmaWxlczogVEZpbGVbXSwgY3VycmVudDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgc2V0dGluZ3M6IE5hdmlnYXRvclNldHRpbmdzKSA9PiBudW1iZXI7XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2RheVN0cihmb3JtYXQ/OiBzdHJpbmcpIHtcblx0aWYoIWZvcm1hdCkge1xuXHRcdGZvcm1hdCA9IFwiWVlZWS1NTS1ERFwiO1xuXHR9XG5cdHJldHVybiB3aW5kb3cubW9tZW50KG5ldyBEYXRlKCkpLmZvcm1hdChmb3JtYXQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsZXNXaXRoQ29tbWFuZFBhdHRlcm4oZmlsZXM6IFRGaWxlW10sIHBhdHRlcm46IHN0cmluZywgZGF0ZUZvcm1hdDogc3RyaW5nKTogVEZpbGVbXSB7XG5cdGNvbnN0IGRlY29tcG9zZWRQYXR0ZXJuID0gcGF0dGVybi5zcGxpdCgnIycpXG5cdGlmKGRlY29tcG9zZWRQYXR0ZXJuLmxlbmd0aCA8IDIpIHJldHVybiBbXTtcblxuXHRjb25zdCBwYXR0ZXJuUHJlZml4ID0gZGVjb21wb3NlZFBhdHRlcm5bMF07XG5cdGNvbnN0IHBhdHRlcm5TdWZmaXggPSBkZWNvbXBvc2VkUGF0dGVyblsxXTtcbiAgICByZXR1cm4gZmlsZXMuZmlsdGVyKChmaWxlKSA9PiB7XG5cdFx0Y29uc3QgbSA9IHdpbmRvdy5tb21lbnQoZmlsZS5wYXRoLCBkYXRlRm9ybWF0KTtcblx0XHRpZighbS5pc1ZhbGlkKCkpIHJldHVybiBmYWxzZTtcblx0XHRjb25zdCB1bnVzZWQgPSBtLnBhcnNpbmdGbGFncygpLnVudXNlZElucHV0O1xuXHRcdGlmKHVudXNlZC5sZW5ndGggIT0gMikgcmV0dXJuIGZhbHNlXG5cdFx0O1xuXHRcdGNvbnN0IFtwcmVmaXgsIHN1ZmZpeF0gPSB1bnVzZWQ7XG4gICAgICAgIHJldHVybiBwcmVmaXguZW5kc1dpdGgocGF0dGVyblByZWZpeCkgJiYgc3VmZml4ID09IHBhdHRlcm5TdWZmaXg7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21tYW5kUGF0dGVybkV4cGFuZChwYXR0ZXJuOiBzdHJpbmcsIHNldHRpbmdzOiBOYXZpZ2F0b3JTZXR0aW5ncykgOiBzdHJpbmcge1xuXHRjb25zdCBkZWNvbXBvc2VkUGF0dGVybiA9IHBhdHRlcm4uc3BsaXQoJyMnKVxuXHRpZihkZWNvbXBvc2VkUGF0dGVybi5sZW5ndGggPCAyKSByZXR1cm4gcGF0dGVybjtcblxuXHQvLyBDaGVjayBudW1iZXIgb2YgIyBpbiBwYXR0ZXJuXG5cdGNvbnN0IHBhdHRlcm5QcmVmaXggPSBkZWNvbXBvc2VkUGF0dGVyblswXTtcblx0Y29uc3QgcGF0dGVyblN1ZmZpeCA9IGRlY29tcG9zZWRQYXR0ZXJuWzFdO1xuXHRyZXR1cm4gcGF0dGVyblByZWZpeCArIHRvZGF5U3RyKHNldHRpbmdzLnRvZGF5RGF0ZUZvcm1hdCkgKyBwYXR0ZXJuU3VmZml4O1xufVxuIiwgImltcG9ydCB7IFRGaWxlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBOYXZpZ2F0b3JTZXR0aW5ncyB9IGZyb20gXCIuL3NldHRpbmdzXCI7XG5pbXBvcnQgeyBpbmRleE9mUHJldk5leHRXaXRoQ29tbW9uUHJlZml4IH0gZnJvbSBcIi4vdXRpbFwiO1xuXG5leHBvcnQgY29uc3QgTU9WRU1FTlRfTUVUSE9EUyA9IFtcblx0e1xuXHRcdGlkOiAnbmV4dCcsXG5cdFx0d2hpY2hTdHJpbmc6ICduZXh0Jyxcblx0XHRmbjogKGZpbGVzOiBURmlsZVtdLCBjdXJyZW50OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBzZXR0aW5nczogTmF2aWdhdG9yU2V0dGluZ3MpID0+IGN1cnJlbnQgKyAxXG5cdH0sXG5cdHtcblx0XHRpZDogJ3ByZXZpb3VzJyxcblx0XHR3aGljaFN0cmluZzogJ3ByZXZpb3VzJyxcblx0XHRmbjogKGZpbGVzOiBURmlsZVtdLCBjdXJyZW50OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBzZXR0aW5nczogTmF2aWdhdG9yU2V0dGluZ3MpID0+IGN1cnJlbnQgLSAxXG5cdH0sXG5cdHtcblx0XHRpZDogJ2ZpcnN0Jyxcblx0XHR3aGljaFN0cmluZzogJ2ZpcnN0Jyxcblx0XHRmbjogKGZpbGVzOiBURmlsZVtdLCBjdXJyZW50OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBzZXR0aW5nczogTmF2aWdhdG9yU2V0dGluZ3MpID0+IDBcblx0fSxcblx0e1xuXHRcdGlkOiAnbGFzdCcsXG5cdFx0d2hpY2hTdHJpbmc6ICdsYXN0Jyxcblx0XHRmbjogKGZpbGVzOiBURmlsZVtdLCBjdXJyZW50OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBzZXR0aW5nczogTmF2aWdhdG9yU2V0dGluZ3MpID0+IGxlbmd0aCAtIDFcblx0fSxcblx0e1xuXHRcdGlkOiAndG9kYXktZmlyc3QnLFxuXHRcdHdoaWNoU3RyaW5nOiBcImZpcnN0IHdpdGggdG9kYXkgaW4gbmFtZVwiLFxuXHRcdGZuOiAoZmlsZXM6IFRGaWxlW10sIGN1cnJlbnQ6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIsIHNldHRpbmdzOiBOYXZpZ2F0b3JTZXR0aW5ncykgPT4ge1xuXHRcdFx0bGV0IHRvZGF5c3RyID0gd2luZG93Lm1vbWVudChuZXcgRGF0ZSgpKS5mb3JtYXQoc2V0dGluZ3MudG9kYXlEYXRlRm9ybWF0KTtcblx0XHRcdHJldHVybiBmaWxlcy5maW5kSW5kZXgoZmlsZSA9PiBmaWxlLmJhc2VuYW1lLmluY2x1ZGVzKHRvZGF5c3RyKSk7XG5cdFx0fVxuXHR9LFxuXHR7XG5cdFx0aWQ6ICd0b2RheS1sYXN0Jyxcblx0XHR3aGljaFN0cmluZzogXCJsYXN0IHdpdGggdG9kYXkgaW4gbmFtZVwiLFxuXHRcdGZuOiAoZmlsZXM6IFRGaWxlW10sIGN1cnJlbnQ6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIsIHNldHRpbmdzOiBOYXZpZ2F0b3JTZXR0aW5ncykgPT4ge1xuXHRcdFx0bGV0IHRvZGF5c3RyID0gd2luZG93Lm1vbWVudChuZXcgRGF0ZSgpKS5mb3JtYXQoc2V0dGluZ3MudG9kYXlEYXRlRm9ybWF0KTtcblx0XHRcdHJldHVybiBmaWxlcy5tYXAoZmlsZSA9PiBmaWxlLmJhc2VuYW1lLmluY2x1ZGVzKHRvZGF5c3RyKSkubGFzdEluZGV4T2YodHJ1ZSk7XG5cdFx0fVxuXHR9LFxuXHR7XG5cdFx0aWQ6ICdjb21tb25wcmVmaXgtZmlyc3QnLFxuXHRcdHdoaWNoU3RyaW5nOiBcImZpcnN0IHdpdGggc2FtZSBwcmVmaXhcIixcblx0XHRmbjogKGZpbGVzOiBURmlsZVtdLCBjdXJyZW50OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBzZXR0aW5nczogTmF2aWdhdG9yU2V0dGluZ3MpID0+IGluZGV4T2ZQcmV2TmV4dFdpdGhDb21tb25QcmVmaXgoZmlsZXMsIGN1cnJlbnQsIGxlbmd0aCwgc2V0dGluZ3MsIGZhbHNlKVxuXHR9LFxuXHR7XG5cdFx0aWQ6ICdjb21tb25wcmVmaXgtbGFzdCcsXG5cdFx0d2hpY2hTdHJpbmc6IFwibGFzdCB3aXRoIHNhbWUgcHJlZml4XCIsXG5cdFx0Zm46IChmaWxlczogVEZpbGVbXSwgY3VycmVudDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgc2V0dGluZ3M6IE5hdmlnYXRvclNldHRpbmdzKSA9PiBpbmRleE9mUHJldk5leHRXaXRoQ29tbW9uUHJlZml4KGZpbGVzLCBjdXJyZW50LCBsZW5ndGgsIHNldHRpbmdzLCB0cnVlKVxuXHR9LFxuXTsiLCAiaW1wb3J0IHsgVEZpbGUgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuZXhwb3J0IGNvbnN0IFNPUlRJTkdfTUVUSE9EUyA9IFtcblx0e1xuXHRcdGlkOiAnYWxwaGEnLFxuXHRcdGJ5U3RyaW5nOiAnbmFtZScsXG5cdFx0Zm46IChhOiBURmlsZSwgYjogVEZpbGUpID0+IGEuYmFzZW5hbWUubG9jYWxlQ29tcGFyZShiLmJhc2VuYW1lKSxcblx0fSxcblx0e1xuXHRcdGlkOiAnY3RpbWUnLFxuXHRcdGJ5U3RyaW5nOiAnY3JlYXRpb24gZGF0ZScsXG5cdFx0Zm46IChhOiBURmlsZSwgYjogVEZpbGUpID0+IGEuc3RhdC5jdGltZSAtIGIuc3RhdC5jdGltZVxuXHR9LFxuXHR7XG5cdFx0aWQ6ICdtdGltZScsXG5cdFx0YnlTdHJpbmc6ICdtb2RpZmljYXRpb24gZGF0ZScsXG5cdFx0Zm46IChhOiBURmlsZSwgYjogVEZpbGUpID0+IGEuc3RhdC5tdGltZSAtIGIuc3RhdC5tdGltZVxuXHR9LFxuXTsiLCAiaW1wb3J0IHsgQXBwLCBOb3RpY2UsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCBOYXZpZ2F0b3JQbHVnaW4gZnJvbSBcIi4vbWFpblwiO1xuaW1wb3J0IHsgREVGQVVMVF9TRVRUSU5HUywgTmF2aWdhdG9yQ29tbWFuZFBhdHRlcm4gfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgY29tbWFuZFBhdHRlcm5FeHBhbmQgfSBmcm9tIFwiLi91dGlsXCI7XG5cbmV4cG9ydCBjbGFzcyBOYXZpZ2F0b3JTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogTmF2aWdhdG9yUGx1Z2luO1xuXHRcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTmF2aWdhdG9yUGx1Z2luKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cdFxuXHRkaXNwbGF5KCkge1xuXHRcdGxldCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXHRcdFxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cdFx0XG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnVG9kYXkgZGF0ZSBmb3JtYXQnKVxuXHRcdFx0LnNldERlc2MoXCJXaWxsIGxvb2sgZm9yIHRoaXMgZGF0ZSBmb3JtYXQgaW4gdGhlIHRpdGxlIHdoZW4gbmF2aWdhdGluZyBUb2RheSBub3Rlc1wiKVxuXHRcdFx0LmFkZE1vbWVudEZvcm1hdChtZm10ID0+IG1mbXRcblx0XHRcdFx0LnNldERlZmF1bHRGb3JtYXQoREVGQVVMVF9TRVRUSU5HUy50b2RheURhdGVGb3JtYXQpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy50b2RheURhdGVGb3JtYXQpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy50b2RheURhdGVGb3JtYXQgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXHRcdFxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ05vdGVzIHdpdGggc2FtZSBwcmVmaXgnIH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnU2VwYXJhdG9ycycpXG5cdFx0XHQuc2V0RGVzYyhcIkNoYXJhY3RlcnMgdXNlZCB0byB0b2tlbml6ZSB0aGUgY29tbW9uIHByZWZpeCAoaWYgZW1wdHksIGxvb2tzIGZvciBhbGwgY2hhcmFjdGVycylcIilcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy5jb21tb25QcmVmaXhTZXBhcmF0b3JzKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY29tbW9uUHJlZml4U2VwYXJhdG9ycylcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbW1vblByZWZpeFNlcGFyYXRvcnMgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXHRcdFxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0V4dGVuZCBzZWFyY2gnKVxuXHRcdFx0LnNldERlc2MoXCJXaGV0aGVyIHRvIGxvb2sgZm9yIHRoZSBwcmV2aW91cy9uZXh0IG5vdGUgaWYgYXQgdGhlIGZpcnN0L2xhc3Qgbm90ZSBhbHJlYWR5XCIpXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbW1vblByZWZpeEV4dGVuZFNlYXJjaClcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbW1vblByZWZpeEV4dGVuZFNlYXJjaCA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cdFx0XG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnVXNlIHRoZSBzYW1lIGV4dGVuc2lvbicpXG5cdFx0XHQuc2V0RGVzYyhcIldoZXRoZXIgdG8gaWdub3JlIGZpbGVzIHdpdGggZGlmZmVyZW50IGV4dGVuc2lvbnNcIilcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlU2FtZUV4dGVuc2lvbilcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZVNhbWVFeHRlbnNpb24gPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXHRcdFxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0xhc3QvTmV3IGNvbW1hbmRzJyB9KTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnWW91IGNhbiBkZWZpbmUgY29tbWFuZHMgdGhhdCB3aWxsIG9wZW4gdGhlIGxhc3Qgb3IgYSBuZXcgbm90ZSBmb2xsb3dpbmcgYSBwYXJ0aWN1bGFyIHBhdHRlcm4uJyB9KTtcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgncCcsIHsgdGV4dDogXCJUaGUgY2hhcmFjdGVyICcjJyB3aWxsIGJlIHJlcGxhY2VkIGJ5IHRvZGF5J3MgZGF0ZVwiIH0pO1xuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnWW91IHdpbGwgbmVlZCB0byByZXN0YXJ0IE9ic2lkaWFuIGJlZm9yZSB5b3UgY2FuIHVzZSB0aGUgY29tbWFuZHMgZGVmaW5lZCBoZXJlLicgfSk7XG5cblx0XHRsZXQgcGF0dGVybkRpdiA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdigpO1xuXHRcdGZvcihsZXQgcGF0dGVybiBvZiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb21tYW5kUGF0dGVybnMpIHtcblx0XHRcdHRoaXMuY3JlYXRlQ29tbWFuZFBhdHRlcm5TZXR0aW5nKHBhdHRlcm5EaXYsIHBhdHRlcm4pO1xuXHRcdH1cblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdBZGQgcGF0dGVybicpXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRjb25zdCBwYXR0ZXJuOiBOYXZpZ2F0b3JDb21tYW5kUGF0dGVybiA9IHtcblx0XHRcdFx0XHRcdGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxuXHRcdFx0XHRcdFx0bmFtZTogJ05ldyBwYXR0ZXJuJyxcblx0XHRcdFx0XHRcdHBhdHRlcm46ICdVbnRpdGxlZCAjJ1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY29tbWFuZFBhdHRlcm5zLnB1c2gocGF0dGVybik7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XG5cdFx0XHRcdH0pXG5cdFx0XHQpO1xuXHR9XG5cblx0cHJvdGVjdGVkIGNyZWF0ZUNvbW1hbmRQYXR0ZXJuU2V0dGluZyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQsIHBhdHRlcm46IE5hdmlnYXRvckNvbW1hbmRQYXR0ZXJuKSB7XG5cdFx0bGV0IHMgPSBuZXcgU2V0dGluZyhjb250YWluZXJFbCk7XG5cdFx0cy5zZXROYW1lKFwiUGF0dGVyblwiKTtcblx0XHRzLnNldERlc2MoXCJFeGFtcGxlOiBcIiArIGNvbW1hbmRQYXR0ZXJuRXhwYW5kKHBhdHRlcm4ucGF0dGVybiwgdGhpcy5wbHVnaW4uc2V0dGluZ3MpKTtcblx0XHRzLmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHQuc2V0UGxhY2Vob2xkZXIoXCJOYW1lXCIpXG5cdFx0XHQuc2V0VmFsdWUocGF0dGVybi5uYW1lKVxuXHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRwYXR0ZXJuLm5hbWUgPSB2YWx1ZTtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHR9KVxuXHRcdCk7XG5cdFx0cy5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0LnNldFBsYWNlaG9sZGVyKFwiUGF0dGVyblwiKVxuXHRcdFx0LnNldFZhbHVlKHBhdHRlcm4ucGF0dGVybilcblx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0cGF0dGVybi5wYXR0ZXJuID0gdmFsdWU7XG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRzLnNldERlc2MoXCJFeGFtcGxlOiBcIiArIGNvbW1hbmRQYXR0ZXJuRXhwYW5kKHBhdHRlcm4ucGF0dGVybiwgdGhpcy5wbHVnaW4uc2V0dGluZ3MpKTtcblx0XHRcdH0pXG5cdFx0KTtcblx0XHRzLmFkZEV4dHJhQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cblx0XHRcdC5zZXRJY29uKCd0cmFzaCcpXG5cdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbW1hbmRQYXR0ZXJucy5yZW1vdmUocGF0dGVybik7XG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcblx0XHRcdH0pXG5cdFx0KTtcblx0fVxufSJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFBQUEsbUJBQThCOzs7QUNjdkIsSUFBTSxtQkFBc0M7QUFBQSxFQUNsRCx3QkFBd0I7QUFBQSxFQUN4QiwwQkFBMEI7QUFBQSxFQUMxQixpQkFBaUI7QUFBQSxFQUNqQixrQkFBa0I7QUFBQSxFQUNsQixpQkFBaUIsQ0FBQztBQUNuQjs7O0FDYk8sU0FBUyxXQUFXLEtBQWEsWUFBc0I7QUFDN0QsTUFBRyxDQUFDLFdBQVc7QUFBUSxXQUFPLElBQUksTUFBTSxFQUFFO0FBRTFDLE1BQUksTUFBTSxXQUFXLENBQUM7QUFDdEIsV0FBUSxJQUFFLEdBQUcsSUFBRSxXQUFXLFFBQVEsRUFBRSxHQUFHO0FBQ3RDLFVBQU0sSUFBSSxNQUFNLFdBQVcsQ0FBQyxDQUFDLEVBQUUsS0FBSyxHQUFHO0FBQUEsRUFDeEM7QUFDQSxTQUFPLElBQUksTUFBTSxHQUFHO0FBQ3JCO0FBS08sU0FBUyxrQ0FBa0Ms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
